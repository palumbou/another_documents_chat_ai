/* Auto theme support - follows system preference */
@media (prefers-color-scheme: dark) {
  :root[data-theme="auto"] {
    /* Rosé Pine Moon palette for auto dark mode */
    --primary-color: #eb6f92;
    --primary-hover: #f6c177;
    --primary-light: #393552;
    --secondary-color: #c4a7e7;
    --success-color: #9ccfd8;
    --danger-color: #eb6f92;
    --warning-color: #f6c177;
    --background: #232136;
    --background-alt: #2a273f;
    --background-light: #393552;
    --sidebar-bg: #2a273f;
    --border-color: #44415a;
    --text-primary: #e0def4;
    --text-secondary: #908caa;
    --text-muted: #6e6a86;
    --shadow: 0 4px 6px -1px rgb(35 33 54 / 0.3), 0 2px 4px -1px rgb(35 33 54 / 0.2);
    --shadow-lg: 0 20px 25px -5px rgb(35 33 54 / 0.4), 0 10px 10px -5px rgb(35 33 54 / 0.3);
    --user-message-bg: #eb6f92;
    --user-message-text: #232136;
    --ai-message-bg: #393552;
    --ai-message-text: #e0def4;
    --ai-message-border: #44415a;
  }
}

@media (prefers-color-scheme: light) {
  :root[data-theme="auto"] {
    /* Rosé Pine Dawn palette for auto light mode */
    --primary-color: #d7827e;
    --primary-hover: #ea9d34;
    --primary-light: #f4f0ed;
    --secondary-color: #907aa9;
    --success-color: #56949f;
    --danger-color: #b4637a;
    --warning-color: #ea9d34;
    --background: #faf4ed;
    --background-alt: #f2e9e1;
    --background-light: #f4f0ed;
    --sidebar-bg: #fffaf3;
    --border-color: #ddd6d1;
    --text-primary: #575279;
    --text-secondary: #797593;
    --text-muted: #9893a5;
    --shadow: 0 4px 6px -1px rgb(87 82 121 / 0.1), 0 2px 4px -1px rgb(87 82 121 / 0.05);
    --shadow-lg: 0 20px 25px -5px rgb(87 82 121 / 0.15), 0 10px 10px -5px rgb(87 82 121 / 0.1);
    --user-message-bg: #d7827e;
    --user-message-text: #faf4ed;
    --ai-message-bg: #f4f0ed;
    --ai-message-text: #575279;
    --ai-message-border: #ddd6d1;
  }
}

/* Root variables - Rosé Pine Dawn (Light Theme) */
:root {
  /* Rosé Pine Dawn palette */
  --primary-color: #d7827e;
  --primary-hover: #b4637a;
  --primary-light: #f2e9e1;
  --secondary-color: #797593;
  --success-color: #56949f;
  --danger-color: #b4637a;
  --warning-color: #ea9d34;
  --background: #faf4ed;
  --background-alt: #f2e9e1;
  --background-light: #fffaf3;
  --sidebar-bg: #f2e9e1;
  --border-color: #dfdad9;
  --text-primary: #575279;
  --text-secondary: #797593;
  --text-muted: #9893a5;
  --shadow: 0 4px 6px -1px rgb(87 82 121 / 0.1), 0 2px 4px -1px rgb(87 82 121 / 0.06);
  --shadow-lg: 0 20px 25px -5px rgb(87 82 121 / 0.15), 0 10px 10px -5px rgb(87 82 121 / 0.04);
  --user-message-bg: #d7827e;
  --user-message-text: #faf4ed;
  --ai-message-bg: #f2e9e1;
  --ai-message-text: #575279;
  --ai-message-border: #dfdad9;
}

/* Dark theme - Rosé Pine Moon */
[data-theme="dark"] {
  /* Rosé Pine Moon palette */
  --primary-color: #eb6f92;
  --primary-hover: #f6c177;
  --primary-light: #393552;
  --secondary-color: #908caa;
  --success-color: #9ccfd8;
  --danger-color: #eb6f92;
  --warning-color: #f6c177;
  --background: #232136;
  --background-alt: #2a273f;
  --background-light: #393552;
  --sidebar-bg: #2a273f;
  --border-color: #44415a;
  --text-primary: #e0def4;
  --text-secondary: #908caa;
  --text-muted: #6e6a86;
  --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -1px rgb(0 0 0 / 0.06);
  --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 10px 10px -5px rgb(0 0 0 / 0.1);
  --user-message-bg: #eb6f92;
  --user-message-text: #232136;
  --ai-message-bg: #393552;
  --ai-message-text: #e0def4;
  --ai-message-border: #44415a;
}

/* Theme-specific shadow adjustments */
[data-theme="dark"] .sidebar {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .chat-input-area {
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] #chat-input:focus {
  box-shadow: 0 0 0 4px rgba(235, 111, 146, 0.2);
}

[data-theme="dark"] .btn-send:hover {
  box-shadow: 0 4px 12px rgba(235, 111, 146, 0.4);
}

[data-theme="dark"] .btn-primary:hover {
  box-shadow: 0 4px 12px rgba(235, 111, 146, 0.4);
}

[data-theme="dark"] .model-group select:focus, 
[data-theme="dark"] .file-input:focus {
  box-shadow: 0 0 0 3px rgba(235, 111, 146, 0.1);
}

[data-theme="dark"] .search-highlight {
  background-color: var(--warning-color);
  color: var(--background);
}

[data-theme="dark"] .retry-btn {
  background-color: var(--warning-color);
  color: var(--background);
}

[data-theme="dark"] .status-processing {
  background: linear-gradient(90deg, transparent 0%, rgba(235, 111, 146, 0.1) 50%, transparent 100%);
  background-size: 200% 100%;
  border-left-color: var(--primary-color);
}
